{"ast":null,"code":"export default class SequentialIDGenerator {\n  constructor() {\n    let prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n\n  increment() {\n    const id = this.count + this.offset;\n\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n\n    this.count++;\n    return id;\n  }\n\n}","map":{"version":3,"sources":["src/sequential-id-generator.ts"],"names":["constructor","prefix","next","id","increment","Math"],"mappings":"AAAA,eAAe,MAAA,qBAAA,CAA4B;EAOzCA,WAAW,GAAsB;IAAA,IAArBC,MAAqB,uEAAtB,EAAsB;IAC/B;IACA,KAAA,MAAA,GAAA,MAAA;IACA,KAAA,KAAA,GAAA,CAAA;IACA,KAAA,MAAA,GAAA,GAAA;IACA,KAAA,GAAA,GAAA,IAAA;IACA,KAAA,KAAA,GAAA,CAAA;EACD;;EAEDC,IAAI,GAAG;IACL,MAAMC,EAAE,GAAG,KAAA,SAAA,GAAA,QAAA,CAAX,EAAW,CAAX;IACA,OAAO,KAAA,MAAA,GAAe,GAAE,KAAKF,MAAO,GAAEE,EAA/B,EAAA,GAAP,EAAA;EACD;;EAEDC,SAAS,GAAG;IACV,MAAMD,EAAE,GAAG,KAAA,KAAA,GAAa,KAAxB,MAAA;;IACA,IAAIA,EAAE,KAAK,KAAX,GAAA,EAAqB;MACnB,KAAA,MAAA,IAAe,CAAC,KAAA,GAAA,GAAD,CAAA,IAAf,CAAA;MACA,KAAA,GAAA,GAAWE,IAAI,CAAJA,GAAAA,CAAAA,EAAAA,EAAa,EAAE,KAAfA,KAAAA,IAAX,CAAA;IACD;;IACD,KAAA,KAAA;IACA,OAAA,EAAA;EACD;;AA7BwC","sourcesContent":["export default class SequentialIDGenerator {\n  prefix: string;\n  count: number;\n  offset: number;\n  msb: number;\n  power: number;\n\n  constructor(prefix: string = \"\") {\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n\n  increment() {\n    const id = this.count + this.offset;\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n    this.count++;\n    return id;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}